
<div class="d-flex align-items-center" *ngIf="node.visible !== false" [attr.id]="'node-' + node.id">
  <span *ngFor="let i of [].constructor(nesting);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
  <span class="pointer ms-1" (click)="toggle()">
    <small *ngIf="isSelected">
      <app-b-icon [icon]="BIconType.plusCircleFill" *ngIf="!node.expanded && node.children.length > 0"></app-b-icon>
      <app-b-icon [icon]="BIconType.dashCircleFill" *ngIf="node.expanded && node.children.length > 0"></app-b-icon>
      <app-icon class="ms-2" [faIcon]="node.faIcon" [bIcon]="node.bIcon" [ngIcon]="node.ngIcon"></app-icon>
    </small>
    <small *ngIf="!isSelected">
      <app-b-icon [icon]="BIconType.plusCircle" *ngIf="!node.expanded && node.children.length > 0"></app-b-icon>
      <app-b-icon [icon]="BIconType.dashCircle" *ngIf="node.expanded && node.children.length > 0"></app-b-icon>
      <app-icon class="ms-2" [faIcon]="node.faIcon" [bIcon]="node.bIcon" [ngIcon]="node.ngIcon"></app-icon>
    </small>
  </span>
  <span class="ms-1 pointer" [class.fw-bold]="isSelected" (click)="onSelect()">{{node.label}}</span>
</div>
<ng-container *ngIf="node.expanded && node.children.length > 0">
<app-tree-node [selected]="selected" (selectedChange)="selected=$event; selectedChange.next($event)"  [nesting]="nesting+1" [node]="child" *ngFor="let child of node.children"></app-tree-node>
</ng-container>
