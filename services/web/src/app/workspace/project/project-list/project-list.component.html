<div class="card">
  <div class="card-header">
    <app-fa-icon [icon]="FAIconType.folder"></app-fa-icon>
    <span class="ms-1" translate>workspace.project.list</span>
  </div>
  <div class="card-body">
    <div class="d-flex">
      <span>
        <button class="btn btn-primary btn-sm" (click)="create()">
          <app-fa-icon [icon]="FAIconType.plus"></app-fa-icon>
          <span class="ms-2" translate>workspace.project.create</span>
        </button>
      </span>
      <span class="ms-auto">
        <app-search [value]="search" (valueChange)="onChangeSearch($event)" [placeholder]="'workspace.project.search'"></app-search>
      </span>
    </div>
    <div class="d-flex mt-2 flex-column">
      <div  class="card mt-1" *ngFor="let project of projects">
        <div class="card-body">
          <div class="d-flex">
            <div class="d-flex flex-column">
              <span><strong>{{project.name}}</strong></span>
              <div><span>Recordings: </span><span>{{project._id|projectRecordCount|async}}</span></div>
              <div><span>Detectors: </span><span>{{project._id|projectDetectorCount|async}}</span></div>
            </div>
            <span class="ms-auto">
              <button class="btn btn-primary btn-sm" (click)="detectors(project)">
                <app-fa-icon [icon]="FAIconType.eye"></app-fa-icon>
              </button>
              <button class="btn btn-primary btn-sm ms-1" (click)="records(project)">
                <app-fa-icon [icon]="FAIconType.video"></app-fa-icon>
              </button>
              <button class="btn btn-primary btn-sm ms-1" (click)="edit(project)">
                <app-fa-icon [icon]="FAIconType.pen"></app-fa-icon>
              </button>
            </span>
          </div>
      </div>
      </div>
    </div>

  </div>
  <app-loader [cardFooter]="true" [error]="error" [loading]="loading"></app-loader>
</div>
